# Enable precompiled headers when using the GCC compiler.
IF(DO_PCH AND CMAKE_COMPILER_IS_GNUCXX)
        INCLUDE_DIRECTORIES(${CMAKE_CURRENT_BINARY_DIR})
ENDIF(DO_PCH AND CMAKE_COMPILER_IS_GNUCXX)

SET(game_STAT_SRCS
   Account/AccountMgr.cpp
   Account/AccountMgr.h
   Achievements/AchievementMgr.h
   Achievements/AchievementMgr.cpp
   Addons/AddonMgr.cpp
   Addons/AddonMgr.h
   Addons/AddonHandler.cpp
   Addons/AddonHandler.h
   AI/AuctionHouseBot/AuctionHouseBot.cpp
   AI/AuctionHouseBot/AuctionHouseBot.h
   AI/EventAI/CreatureEventAI.cpp
   AI/EventAI/CreatureEventAIMgr.cpp
   AI/ScriptedAI/ScriptedSmartAI.cpp
   AI/ScriptedAI/ScriptedSmartAI.h
   AI/CombatAI.cpp
   AI/CombatAI.h
   AI/CreatureAI.cpp
   AI/CreatureAI.h
   AI/CreatureAIFactory.h
   AI/CreatureAIImpl.h
   AI/CreatureAIRegistry.cpp
   AI/CreatureAIRegistry.h
   AI/CreatureAISelector.cpp
   AI/CreatureAISelector.h
   AI/GuardAI.cpp
   AI/GuardAI.h
   AI/PassiveAI.cpp
   AI/PassiveAI.h
   AI/PetAI.cpp
   AI/PetAI.h
   AI/ReactorAI.cpp
   AI/ReactorAI.h
   AI/TotemAI.cpp
   AI/TotemAI.h
   AI/UnitAI.cpp
   AI/UnitAI.h
   AuctionHouse/AuctionHouseHandler.cpp
   AuctionHouse/AuctionHouseMgr.cpp
   AuctionHouse/AuctionHouseMgr.h
   BattleGrounds/ArenaTeam.cpp
   BattleGrounds/ArenaTeam.h
   BattleGrounds/ArenaTeamHandler.cpp
   BattleGrounds/BattleGround.cpp
   BattleGrounds/BattleGroundAA.cpp
   BattleGrounds/BattleGroundAB.cpp
   BattleGrounds/BattleGroundRB.cpp
   BattleGrounds/BattleGroundAV.cpp
   BattleGrounds/BattleGroundBE.cpp
   BattleGrounds/BattleGroundDS.cpp
   BattleGrounds/BattleGroundEY.cpp
   BattleGrounds/BattleGroundIC.cpp
   BattleGrounds/BattleGroundNA.cpp
   BattleGrounds/BattleGroundRL.cpp
   BattleGrounds/BattleGroundRV.cpp
   BattleGrounds/BattleGroundSA.cpp
   BattleGrounds/BattleGroundWS.cpp
   BattleGrounds/BattleGround.h
   BattleGrounds/BattleGroundAA.h
   BattleGrounds/BattleGroundAB.h
   BattleGrounds/BattleGroundRB.h
   BattleGrounds/BattleGroundAV.h
   BattleGrounds/BattleGroundBE.h
   BattleGrounds/BattleGroundDS.h
   BattleGrounds/BattleGroundEY.h
   BattleGrounds/BattleGroundIC.h
   BattleGrounds/BattleGroundNA.h
   BattleGrounds/BattleGroundRL.h
   BattleGrounds/BattleGroundRV.h
   BattleGrounds/BattleGroundSA.h
   BattleGrounds/BattleGroundWS.h
   BattleGrounds/BattleGroundHandler.cpp
   BattleGrounds/BattleGroundMgr.cpp
   BattleGrounds/BattleGroundMgr.h
   Calendar/Calendar.cpp
   Calendar/Calendar.h
   Calendar/CalendarHandler.cpp
   Chat/Channel.cpp
   Chat/Channel.h
   Chat/ChannelHandler.cpp
   Chat/ChannelMgr.h
   Chat/ChannelMgr.cpp
   Chat/Chat.cpp
   Chat/Chat.h
   Chat/ChatHandler.cpp
   Chat/Debugcmds.cpp
   Chat/Level0.cpp
   Chat/Level1.cpp
   Chat/Level2.cpp
   Chat/Level3.cpp
   Combat/CombatHandler.cpp
   Combat/HostileRefManager.cpp
   Combat/HostileRefManager.h
   Combat/ThreatManager.cpp
   Combat/ThreatManager.h
   ConditionMgr/ConditionMgr.cpp
   ConditionMgr/ConditionMgr.h
   DataStores/DBCEnums.h
   DataStores/DBCStores.cpp
   DataStores/DBCStores.h
   DataStores/DBCStructure.h
   DataStores/DBCfmt.h
   Entities/Creature/Creature.cpp
   Entities/Creature/Creature.h
   Entities/Creature/CreatureGroups.cpp
   Entities/Creature/CreatureGroups.h
   Entities/Creature/GossipDef.cpp
   Entities/Creature/GossipDef.h
   Entities/Creature/NPCHandler.cpp
   Entities/Creature/NPCHandler.h
   Entities/Creature/TemporarySummon.cpp
   Entities/Creature/TemporarySummon.h
   Entities/GameObject/GameObject.cpp
   Entities/GameObject/GameObject.h
   Entities/Item/Bag.cpp
   Entities/Item/Bag.h
   Entities/Item/Item.cpp
   Entities/Item/Item.h
   Entities/Item/ItemEnchantmentMgr.cpp
   Entities/Item/ItemEnchantmentMgr.h
   Entities/Item/ItemHandler.cpp
   Entities/Item/ItemPrototype.h
   Entities/Object/Corpse.cpp
   Entities/Object/Corpse.h
   Entities/Object/DynamicObject.cpp
   Entities/Object/DynamicObject.h
   Entities/Object/ObjectAccessor.cpp
   Entities/Object/ObjectAccessor.h
   Entities/Object/Object.cpp
   Entities/Object/ObjectDefines.h
   Entities/Object/Object.h
   Entities/Object/ObjectMgr.cpp
   Entities/Object/ObjectMgr.h
   Entities/Object/UpdateData.cpp
   Entities/Object/UpdateData.h
   Entities/Object/UpdateFields.h
   Entities/Object/UpdateMask.h
   Entities/Pet/Pet.cpp
   Entities/Pet/Pet.h
   Entities/Pet/PetHandler.cpp
   Entities/Player/DuelHandler.cpp
   Entities/Player/MiscHandler.cpp
   Entities/Player/PetitionsHandler.cpp
   Entities/Player/Player.cpp
   Entities/Player/Player.h
   Entities/Player/SocialMgr.cpp
   Entities/Player/SocialMgr.h
   Entities/Player/TicketHandler.cpp
   Entities/Player/TradeHandler.cpp
   Entities/Player/VoiceChatHandler.cpp
   Entities/Player/CharacterHandler.cpp
   Entities/Unit/StatSystem.cpp
   Entities/Unit/Unit.cpp
   Entities/Unit/Unit.h
   Entities/Totem/Totem.cpp
   Entities/Totem/Totem.h
   Entities/Vehicle/Vehicle.cpp
   Entities/Vehicle/Vehicle.h
   Events/GameEventMgr.cpp
   Events/GameEventMgr.h
   Events/GlobalEvents.cpp
   Events/GlobalEvents.h
   Events/UnitEvents.h
   Globals/Formulas.h
   Globals/Language.h
   Globals/SharedDefines.h
   Groups/Group.cpp
   Groups/Group.h
   Groups/GroupHandler.cpp
   Groups/GroupReference.cpp
   Groups/GroupReference.h
   Groups/GroupRefManager.h
   Guilds/Guild.cpp
   Guilds/Guild.h
   Guilds/GuildHandler.cpp
   Instances/InstanceData.cpp
   Instances/InstanceData.h
   Instances/InstanceSaveMgr.cpp
   Instances/InstanceSaveMgr.h
   LookingForGroup/LFG.h
   LookingForGroup/LFGHandler.cpp
   LookingForGroup/LFGMgr.cpp
   LookingForGroup/LFGMgr.h
   Loot/LootHandler.cpp
   Loot/LootMgr.cpp
   Loot/LootMgr.h
   Mails/Mail.cpp
   Mails/Mail.h
   Map/Cell/Cell.h
   Map/Cell/CellImpl.h
   Map/Grid/GridDefines.h
   Map/Grid/GridNotifiers.cpp
   Map/Grid/GridNotifiers.h
   Map/Grid/GridNotifiersImpl.h
   Map/Grid/GridStates.cpp
   Map/Grid/GridStates.h
   Map/Grid/ObjectGridLoader.cpp
   Map/Grid/ObjectGridLoader.h
   Map/Map.cpp
   Map/Map.h
   Map/MapInstanced.cpp
   Map/MapInstanced.h
   Map/MapManager.cpp
   Map/MapManager.h
   Map/MapUpdater.cpp
   Map/MapUpdater.h
   Map/MapReference.h
   Map/MapRefManager.h
   Map/ObjectPosSelector.cpp
   Map/ObjectPosSelector.h
   Map/ZoneScript.h
   Movement/MovementGenerators/ConfusedMovementGenerator.cpp
   Movement/MovementGenerators/ConfusedMovementGenerator.h
   Movement/MovementGenerators/FleeingMovementGenerator.cpp
   Movement/MovementGenerators/FleeingMovementGenerator.h
   Movement/MovementGenerators/HomeMovementGenerator.cpp
   Movement/MovementGenerators/HomeMovementGenerator.h
   Movement/MovementGenerators/IdleMovementGenerator.cpp
   Movement/MovementGenerators/IdleMovementGenerator.h
   Movement/MovementGenerators/MovementGenerator.cpp
   Movement/MovementGenerators/MovementGenerator.h
   Movement/MovementGenerators/MovementGeneratorImpl.h
   Movement/MovementGenerators/PointMovementGenerator.cpp
   Movement/MovementGenerators/PointMovementGenerator.h
   Movement/MovementGenerators/RandomMovementGenerator.cpp
   Movement/MovementGenerators/RandomMovementGenerator.h
   Movement/MovementGenerators/TargetedMovementGenerator.cpp
   Movement/MovementGenerators/TargetedMovementGenerator.h
   Movement/MovementGenerators/WaypointMovementGenerator.cpp
   Movement/MovementGenerators/WaypointMovementGenerator.h
   Movement/DestinationHolder.cpp
   Movement/DestinationHolder.h
   Movement/DestinationHolderImp.h
   Movement/FollowerReference.cpp
   Movement/FollowerReference.h
   Movement/FollowerRefManager.h
   Movement/MotionMaster.cpp
   Movement/MotionMaster.h
   Movement/MovementHandler.cpp
   Movement/Path.h
   Movement/TaxiHandler.cpp
   Movement/Transports.cpp
   Movement/Transports.h
   Movement/Traveller.h
   Movement/WaypointManager.cpp
   Movement/WaypointManager.h
   Opcodes/Opcodes.cpp
   Opcodes/Opcodes.h
   OutdoorPvP/OutdoorPvP.cpp
   OutdoorPvP/OutdoorPvP.h
   OutdoorPvP/OutdoorPvPEP.cpp
   OutdoorPvP/OutdoorPvPEP.h
   OutdoorPvP/OutdoorPvPHP.cpp
   OutdoorPvP/OutdoorPvPHP.h
   OutdoorPvP/OutdoorPvPImpl.h
   OutdoorPvP/OutdoorPvPMgr.cpp
   OutdoorPvP/OutdoorPvPMgr.h
   OutdoorPvP/OutdoorPvPNA.cpp
   OutdoorPvP/OutdoorPvPNA.h
   OutdoorPvP/OutdoorPvPSI.cpp
   OutdoorPvP/OutdoorPvPSI.h
   OutdoorPvP/OutdoorPvPTF.cpp
   OutdoorPvP/OutdoorPvPTF.h
   OutdoorPvP/OutdoorPvPZM.cpp
   OutdoorPvP/OutdoorPvPZM.h
   Pools/PoolHandler.cpp
   Pools/PoolHandler.h
   Quests/QueryHandler.cpp
   Quests/QuestDef.cpp
   Quests/QuestDef.h
   Quests/QuestHandler.cpp
   Reputation/ReputationMgr.cpp
   Reputation/ReputationMgr.h
   ScriptMgr/ScriptLoader.cpp
   ScriptMgr/ScriptLoader.h
   ScriptMgr/ScriptMgr.cpp
   ScriptMgr/ScriptMgr.h
   ScriptMgr/ScriptSystem.cpp
   ScriptMgr/ScriptSystem.h
   Skills/SkillHandler.cpp
   Skills/SkillDiscovery.cpp
   Skills/SkillDiscovery.h
   Skills/SkillExtraItems.cpp
   Skills/SkillExtraItems.h
   Spells/Auras/SpellAuraDefines.h
   Spells/Auras/SpellAuras.cpp
   Spells/Auras/SpellAuras.h
   Spells/Auras/SpellAuraEffects.cpp
   Spells/Auras/SpellAuraEffects.h
   Spells/Auras/SpellEffects.cpp
   Spells/Spell.cpp
   Spells/Spell.h
   Spells/SpellHandler.cpp
   Spells/SpellMgr.cpp
   Spells/SpellMgr.h
   Tools/PlayerDump.cpp
   Tools/PlayerDump.h
   Tools/Tools.cpp
   Tools/Tools.h
   Weather/Weather.cpp
   Weather/Weather.h
   World/World.cpp
   World/World.h
   World/WorldLog.cpp
   World/WorldLog.h
   World/WorldSession.cpp
   World/WorldSession.h
   World/WorldSocket.cpp
   World/WorldSocket.h
   World/WorldSocketMgr.cpp
   World/WorldSocketMgr.h
)

include_directories(
  ${ACE_INCLUDE_DIR}
  ${CMAKE_BINARY_DIR}
  ${CMAKE_SOURCE_DIR}/dep/include
  ${CMAKE_SOURCE_DIR}/src/server/framework
  ${CMAKE_SOURCE_DIR}/src/server/shared
  ${CMAKE_SOURCE_DIR}/src/server/shared/vmap
  ${CMAKE_SOURCE_DIR}/src/server/shared/Database
  ${CMAKE_SOURCE_DIR}/src/server/game
  ${CMAKE_SOURCE_DIR}/src/server/game/Account
  ${CMAKE_SOURCE_DIR}/src/server/game/Achievements
  ${CMAKE_SOURCE_DIR}/src/server/game/Addons
  ${CMAKE_SOURCE_DIR}/src/server/game/AI
  ${CMAKE_SOURCE_DIR}/src/server/game/AI/AuctionHouseBot
  ${CMAKE_SOURCE_DIR}/src/server/game/AI/EventAI
  ${CMAKE_SOURCE_DIR}/src/server/game/AI/ScriptedAI
  ${CMAKE_SOURCE_DIR}/src/server/game/AuctionHouse
  ${CMAKE_SOURCE_DIR}/src/server/game/BattleGrounds
  ${CMAKE_SOURCE_DIR}/src/server/game/Calendar
  ${CMAKE_SOURCE_DIR}/src/server/game/Chat
  ${CMAKE_SOURCE_DIR}/src/server/game/Combat
  ${CMAKE_SOURCE_DIR}/src/server/game/ConditionMgr
  ${CMAKE_SOURCE_DIR}/src/server/game/DataStores
  ${CMAKE_SOURCE_DIR}/src/server/game/Entities
  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Creature
  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/GameObject
  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Item
  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Object
  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Pet
  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Player
  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Totem
  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Unit
  ${CMAKE_SOURCE_DIR}/src/server/game/Entities/Vehicle
  ${CMAKE_SOURCE_DIR}/src/server/game/Events
  ${CMAKE_SOURCE_DIR}/src/server/game/Globals
  ${CMAKE_SOURCE_DIR}/src/server/game/Groups
  ${CMAKE_SOURCE_DIR}/src/server/game/Guilds
  ${CMAKE_SOURCE_DIR}/src/server/game/Instances
  ${CMAKE_SOURCE_DIR}/src/server/game/LookingForGroup
  ${CMAKE_SOURCE_DIR}/src/server/game/Loot
  ${CMAKE_SOURCE_DIR}/src/server/game/Mails
  ${CMAKE_SOURCE_DIR}/src/server/game/Map
  ${CMAKE_SOURCE_DIR}/src/server/game/Map/Cell
  ${CMAKE_SOURCE_DIR}/src/server/game/Map/Grid
  ${CMAKE_SOURCE_DIR}/src/server/game/Movement
  ${CMAKE_SOURCE_DIR}/src/server/game/MovementGenerators
  ${CMAKE_SOURCE_DIR}/src/server/game/Opcodes
  ${CMAKE_SOURCE_DIR}/src/server/game/OutdoorPvP
  ${CMAKE_SOURCE_DIR}/src/server/game/Pools
  ${CMAKE_SOURCE_DIR}/src/server/game/Quests
  ${CMAKE_SOURCE_DIR}/src/server/game/Reputation
  ${CMAKE_SOURCE_DIR}/src/server/game/ScriptMgr
  ${CMAKE_SOURCE_DIR}/src/server/game/Skills
  ${CMAKE_SOURCE_DIR}/src/server/game/Spells
  ${CMAKE_SOURCE_DIR}/src/server/game/Spells/Auras
  ${CMAKE_SOURCE_DIR}/src/server/game/Tools
  ${CMAKE_SOURCE_DIR}/src/server/game/Weather
  ${CMAKE_SOURCE_DIR}/src/server/game/World
  ${MYSQL_INCLUDE_DIR}
)

if(NOT DO_SCRIPTS)
   SET(game_STAT_SRCS ${game_STAT_SRCS}
      AI/ScriptedAI/ScriptedEscortAI.cpp
      AI/ScriptedAI/ScriptedEscortAI.h
      ScriptMgr/ScriptedPch.cpp
      ScriptMgr/ScriptedPch.h
      AI/ScriptedAI/ScriptedCreature.cpp
      AI/ScriptedAI/ScriptedCreature.h
      AI/ScriptedAI/ScriptedFollowerAI.cpp
      AI/ScriptedAI/ScriptedFollowerAI.h
      AI/ScriptedAI/ScriptedGossip.h
      AI/ScriptedAI/ScriptedGuardAI.cpp
      AI/ScriptedAI/ScriptedGuardAI.h
      AI/ScriptedAI/ScriptedInstance.h
      AI/ScriptedAI/ScriptedSimpleAI.cpp
      AI/ScriptedAI/ScriptedSimpleAI.h
   )
   message("-- Added Script Engine to GAME lib")
endif(NOT DO_SCRIPTS)

add_library(game STATIC ${game_STAT_SRCS})
ADD_DEPENDENCIES(game revision.h)

# Generate precompiled header
IF(DO_PCH AND CMAKE_COMPILER_IS_GNUCXX)
        ADD_PRECOMPILED_HEADER(game ${CMAKE_SOURCE_DIR}/src/server/game/PrecompiledHeaders/pchlinux.h)
ENDIF(DO_PCH AND CMAKE_COMPILER_IS_GNUCXX)

